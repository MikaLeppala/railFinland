{
  "version": 3,
  "sources": ["../../osmtogeojson/lodash.custom.js", "../../wgs84/index.js", "../../geojson-area/index.js", "../../geojson-rewind/index.js", "../../osm-polygon-features/polygon-features.json", "../../osm-polygon-features/index.js", "../../osmtogeojson/index.js"],
  "sourcesContent": ["/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash exports=\"node\" include=\"clone,merge,isEmpty,isArray,compact,each\" -d`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n;(function() {\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [];\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to fix the JScript [[DontEnum]] bug */\n  var shadowedProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      errorClass = '[object Error]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used as the data object for `iteratorTemplate` */\n  var iteratorData = {\n    'args': '',\n    'array': null,\n    'bottom': '',\n    'firstArg': '',\n    'init': '',\n    'keys': null,\n    'loop': '',\n    'shadowedProps': null,\n    'support': null,\n    'top': '',\n    'useHas': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Checks if `value` is a DOM node in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM node, else `false`.\n   */\n  function isNode(value) {\n    // IE < 9 presents DOM nodes as `Object` objects except they have `toString`\n    // methods that are `typeof` \"string\" and still can coerce nodes to strings\n    return typeof value.toString != 'function' && typeof (value + '') == 'string';\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var errorProto = Error.prototype,\n      objectProto = Object.prototype,\n      stringProto = String.prototype;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    String(toString)\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n  );\n\n  /** Native method shortcuts */\n  var fnToString = Function.prototype.toString,\n      getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      unshift = arrayRef.unshift;\n\n  /** Used to set meta data on functions */\n  var defineProperty = (function() {\n    // IE 8 only accepts DOM elements\n    try {\n      var o = {},\n          func = isNative(func = Object.defineProperty) && func,\n          result = func(o, o, o) && func;\n    } catch(e) { }\n    return result;\n  }());\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n  /** Used to lookup a built-in constructor by [[Class]] */\n  var ctorByClass = {};\n  ctorByClass[arrayClass] = Array;\n  ctorByClass[boolClass] = Boolean;\n  ctorByClass[dateClass] = Date;\n  ctorByClass[funcClass] = Function;\n  ctorByClass[objectClass] = Object;\n  ctorByClass[numberClass] = Number;\n  ctorByClass[regexpClass] = RegExp;\n  ctorByClass[stringClass] = String;\n\n  /** Used to avoid iterating non-enumerable properties in IE < 9 */\n  var nonEnumProps = {};\n  nonEnumProps[arrayClass] = nonEnumProps[dateClass] = nonEnumProps[numberClass] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[boolClass] = nonEnumProps[stringClass] = { 'constructor': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[errorClass] = nonEnumProps[funcClass] = nonEnumProps[regexpClass] = { 'constructor': true, 'toString': true };\n  nonEnumProps[objectClass] = { 'constructor': true };\n\n  (function() {\n    var length = shadowedProps.length;\n    while (length--) {\n      var key = shadowedProps[length];\n      for (var className in nonEnumProps) {\n        if (hasOwnProperty.call(nonEnumProps, className) && !hasOwnProperty.call(nonEnumProps[className], key)) {\n          nonEnumProps[className][key] = false;\n        }\n      }\n    }\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // no operation performed\n  }\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = lodash.support = {};\n\n  (function() {\n    var ctor = function() { this.x = 1; },\n        object = { '0': 1, 'length': 1 },\n        props = [];\n\n    ctor.prototype = { 'valueOf': 1, 'y': 1 };\n    for (var key in new ctor) { props.push(key); }\n    for (key in arguments) { }\n\n    /**\n     * Detect if an `arguments` object's [[Class]] is resolvable (all but Firefox < 4, IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsClass = toString.call(arguments) == argsClass;\n\n    /**\n     * Detect if `arguments` objects are `Object` objects (all but Narwhal and Opera < 10.5).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsObject = arguments.constructor == Object && !(arguments instanceof Array);\n\n    /**\n     * Detect if `name` or `message` properties of `Error.prototype` are\n     * enumerable by default. (IE < 9, Safari < 5.1)\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') || propertyIsEnumerable.call(errorProto, 'name');\n\n    /**\n     * Detect if `prototype` properties are enumerable by default.\n     *\n     * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n     * (if the prototype or a property on the prototype has been set)\n     * incorrectly sets a function's `prototype` property [[Enumerable]]\n     * value to `true`.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumPrototypes = propertyIsEnumerable.call(ctor, 'prototype');\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(root.WinRTError) && reThis.test(function() { return this; });\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * Detect if `arguments` object indexes are non-enumerable\n     * (Firefox < 4, IE < 9, PhantomJS, Safari < 5.1).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumArgs = key != 0;\n\n    /**\n     * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n     *\n     * In IE < 9 an objects own properties, shadowing non-enumerable ones, are\n     * made non-enumerable as well (a.k.a the JScript [[DontEnum]] bug).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumShadows = !/valueOf/.test(props);\n\n    /**\n     * Detect if own properties are iterated after inherited properties (all but IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.ownLast = props[0] != 'x';\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n\n    /**\n     * Detect lack of support for accessing string characters by index.\n     *\n     * IE < 8 can't access characters by index and IE 8 can only access\n     * characters by index on string literals.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n\n    /**\n     * Detect if a DOM node's [[Class]] is resolvable (all but IE < 9)\n     * and that the JS engine errors when attempting to coerce an object to\n     * a string without a `toString` function.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    try {\n      support.nodeClass = !(toString.call(document) == objectClass && !({ 'toString': 0 } + ''));\n    } catch(e) {\n      support.nodeClass = true;\n    }\n  }(1));\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The template used to create iterator functions.\n   *\n   * @private\n   * @param {Object} data The data object used to populate the text.\n   * @returns {string} Returns the interpolated text.\n   */\n  var iteratorTemplate = function(obj) {\n\n    var __p = 'var index, iterable = ' +\n    (obj.firstArg) +\n    ', result = ' +\n    (obj.init) +\n    ';\\nif (!iterable) return result;\\n' +\n    (obj.top) +\n    ';';\n     if (obj.array) {\n    __p += '\\nvar length = iterable.length; index = -1;\\nif (' +\n    (obj.array) +\n    ') {  ';\n     if (support.unindexedChars) {\n    __p += '\\n  if (isString(iterable)) {\\n    iterable = iterable.split(\\'\\')\\n  }  ';\n     }\n    __p += '\\n  while (++index < length) {\\n    ' +\n    (obj.loop) +\n    ';\\n  }\\n}\\nelse {  ';\n     } else if (support.nonEnumArgs) {\n    __p += '\\n  var length = iterable.length; index = -1;\\n  if (length && isArguments(iterable)) {\\n    while (++index < length) {\\n      index += \\'\\';\\n      ' +\n    (obj.loop) +\n    ';\\n    }\\n  } else {  ';\n     }\n\n     if (support.enumPrototypes) {\n    __p += '\\n  var skipProto = typeof iterable == \\'function\\';\\n  ';\n     }\n\n     if (support.enumErrorProps) {\n    __p += '\\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\\n  ';\n     }\n\n        var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }\n\n     if (obj.useHas && obj.keys) {\n    __p += '\\n  var ownIndex = -1,\\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\\n      length = ownProps ? ownProps.length : 0;\\n\\n  while (++ownIndex < length) {\\n    index = ownProps[ownIndex];\\n';\n        if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }  ';\n     } else {\n    __p += '\\n  for (index in iterable) {\\n';\n        if (obj.useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }    ';\n     if (support.nonEnumShadows) {\n    __p += '\\n\\n  if (iterable !== objectProto) {\\n    var ctor = iterable.constructor,\\n        isProto = iterable === (ctor && ctor.prototype),\\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\\n        nonEnum = nonEnumProps[className];\\n      ';\n     for (k = 0; k < 7; k++) {\n    __p += '\\n    index = \\'' +\n    (obj.shadowedProps[k]) +\n    '\\';\\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))';\n            if (!obj.useHas) {\n    __p += ' || (!nonEnum[index] && iterable[index] !== objectProto[index])';\n     }\n    __p += ') {\\n      ' +\n    (obj.loop) +\n    ';\\n    }      ';\n     }\n    __p += '\\n  }    ';\n     }\n\n     }\n\n     if (obj.array || support.nonEnumArgs) {\n    __p += '\\n}';\n     }\n    __p +=\n    (obj.bottom) +\n    ';\\nreturn result';\n\n    return __p\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.clone` without argument juggling or support\n   * for `thisArg` binding.\n   *\n   * @private\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates clones with source counterparts.\n   * @returns {*} Returns the cloned value.\n   */\n  function baseClone(value, isDeep, callback, stackA, stackB) {\n    if (callback) {\n      var result = callback(value);\n      if (typeof result != 'undefined') {\n        return result;\n      }\n    }\n    // inspect [[Class]]\n    var isObj = isObject(value);\n    if (isObj) {\n      var className = toString.call(value);\n      if (!cloneableClasses[className] || (!support.nodeClass && isNode(value))) {\n        return value;\n      }\n      var ctor = ctorByClass[className];\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          return new ctor(+value);\n\n        case numberClass:\n        case stringClass:\n          return new ctor(value);\n\n        case regexpClass:\n          result = ctor(value.source, reFlags.exec(value));\n          result.lastIndex = value.lastIndex;\n          return result;\n      }\n    } else {\n      return value;\n    }\n    var isArr = isArray(value);\n    if (isDeep) {\n      // check for circular references and return corresponding clone\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      result = isArr ? ctor(value.length) : {};\n    }\n    else {\n      result = isArr ? slice(value) : assign({}, value);\n    }\n    // add array properties assigned by `RegExp#exec`\n    if (isArr) {\n      if (hasOwnProperty.call(value, 'index')) {\n        result.index = value.index;\n      }\n      if (hasOwnProperty.call(value, 'input')) {\n        result.input = value.input;\n      }\n    }\n    // exit for shallow clone\n    if (!isDeep) {\n      return result;\n    }\n    // add the source value to the stack of traversed objects\n    // and associate it with its clone\n    stackA.push(value);\n    stackB.push(result);\n\n    // recursively populate clone (susceptible to call stack limits)\n    (isArr ? baseEach : forOwn)(value, function(objValue, key) {\n      result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n    });\n\n    if (initedStack) {\n      releaseArray(stackA);\n      releaseArray(stackB);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }());\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    var bindData = func.__bindData__;\n    if (typeof bindData == 'undefined') {\n      if (support.funcNames) {\n        bindData = !func.name;\n      }\n      bindData = bindData || !support.funcDecomp;\n      if (!bindData) {\n        var source = fnToString.call(func);\n        if (!support.funcNames) {\n          bindData = !reFuncName.test(source);\n        }\n        if (!bindData) {\n          // checks if `func` references the `this` keyword and stores the result\n          bindData = reThis.test(source);\n          setBindData(func, bindData);\n        }\n      }\n    }\n    // exit early if there are no `this` references or `func` is bound\n    if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 2: return function(a, b) {\n        return func.call(thisArg, a, b);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.merge` without argument juggling or support\n   * for `thisArg` binding.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {Function} [callback] The function to customize merging properties.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   */\n  function baseMerge(object, source, callback, stackA, stackB) {\n    (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n      var found,\n          isArr,\n          result = source,\n          value = object[key];\n\n      if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n        // avoid merging previously merged cyclic sources\n        var stackLength = stackA.length;\n        while (stackLength--) {\n          if ((found = stackA[stackLength] == source)) {\n            value = stackB[stackLength];\n            break;\n          }\n        }\n        if (!found) {\n          var isShallow;\n          if (callback) {\n            result = callback(value, source);\n            if ((isShallow = typeof result != 'undefined')) {\n              value = result;\n            }\n          }\n          if (!isShallow) {\n            value = isArr\n              ? (isArray(value) ? value : [])\n              : (isPlainObject(value) ? value : {});\n          }\n          // add `source` and associated `value` to the stack of traversed objects\n          stackA.push(source);\n          stackB.push(value);\n\n          // recursively merge objects and arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            baseMerge(value, source, callback, stackA, stackB);\n          }\n        }\n      }\n      else {\n        if (callback) {\n          result = callback(value, source);\n          if (typeof result == 'undefined') {\n            result = source;\n          }\n        }\n        if (typeof result != 'undefined') {\n          value = result;\n        }\n      }\n      object[key] = value;\n    });\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError;\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    var bindData = func && func.__bindData__;\n    if (bindData && bindData !== true) {\n      // clone `bindData`\n      bindData = slice(bindData);\n      if (bindData[2]) {\n        bindData[2] = slice(bindData[2]);\n      }\n      if (bindData[3]) {\n        bindData[3] = slice(bindData[3]);\n      }\n      // set `thisBinding` is not previously bound\n      if (isBind && !(bindData[1] & 1)) {\n        bindData[4] = thisArg;\n      }\n      // set if previously bound but not currently (subsequent curried functions)\n      if (!isBind && bindData[1] & 1) {\n        bitmask |= 8;\n      }\n      // set curried arity if not yet set\n      if (isCurry && !(bindData[1] & 4)) {\n        bindData[5] = arity;\n      }\n      // append partial left arguments\n      if (isPartial) {\n        push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n      }\n      // append partial right arguments\n      if (isPartialRight) {\n        unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n      }\n      // merge flags\n      bindData[1] |= bitmask;\n      return createWrapper.apply(null, bindData);\n    }\n    // fast path for `_.bind`\n    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Creates compiled iteration functions.\n   *\n   * @private\n   * @param {...Object} [options] The compile options object(s).\n   * @param {string} [options.array] Code to determine if the iterable is an array or array-like.\n   * @param {boolean} [options.useHas] Specify using `hasOwnProperty` checks in the object loop.\n   * @param {Function} [options.keys] A reference to `_.keys` for use in own property iteration.\n   * @param {string} [options.args] A comma separated string of iteration function arguments.\n   * @param {string} [options.top] Code to execute before the iteration branches.\n   * @param {string} [options.loop] Code to execute in the object loop.\n   * @param {string} [options.bottom] Code to execute after the iteration branches.\n   * @returns {Function} Returns the compiled function.\n   */\n  function createIterator() {\n    // data properties\n    iteratorData.shadowedProps = shadowedProps;\n\n    // iterator options\n    iteratorData.array = iteratorData.bottom = iteratorData.loop = iteratorData.top = '';\n    iteratorData.init = 'iterable';\n    iteratorData.useHas = true;\n\n    // merge options into a template data object\n    for (var object, index = 0; object = arguments[index]; index++) {\n      for (var key in object) {\n        iteratorData[key] = object[key];\n      }\n    }\n    var args = iteratorData.args;\n    iteratorData.firstArg = /^[^,]+/.exec(args)[0];\n\n    // create the function factory\n    var factory = Function(\n        'baseCreateCallback, errorClass, errorProto, hasOwnProperty, ' +\n        'indicatorObject, isArguments, isArray, isString, keys, objectProto, ' +\n        'objectTypes, nonEnumProps, stringClass, stringProto, toString',\n      'return function(' + args + ') {\\n' + iteratorTemplate(iteratorData) + '\\n}'\n    );\n\n    // return the compiled function\n    return factory(\n      baseCreateCallback, errorClass, errorProto, hasOwnProperty,\n      indicatorObject, isArguments, isArray, isString, iteratorData.keys, objectProto,\n      objectTypes, nonEnumProps, stringClass, stringProto, toString\n    );\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Sets `this` binding data on a given function.\n   *\n   * @private\n   * @param {Function} func The function to set data on.\n   * @param {Array} value The data array to set.\n   */\n  var setBindData = !defineProperty ? noop : function(func, value) {\n    descriptor.value = value;\n    defineProperty(func, '__bindData__', descriptor);\n  };\n\n  /**\n   * A fallback implementation of `isPlainObject` which checks if a given value\n   * is an object created by the `Object` constructor, assuming objects created\n   * by the `Object` constructor have no inherited enumerable properties and that\n   * there are no `Object.prototype` extensions.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   */\n  function shimIsPlainObject(value) {\n    var ctor,\n        result;\n\n    // avoid non Object objects, `arguments` objects, and DOM elements\n    if (!(value && toString.call(value) == objectClass) ||\n        (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor)) ||\n        (!support.argsClass && isArguments(value)) ||\n        (!support.nodeClass && isNode(value))) {\n      return false;\n    }\n    // IE < 9 iterates inherited properties before own properties. If the first\n    // iterated property is an object's own property then there are no inherited\n    // enumerable properties.\n    if (support.ownLast) {\n      forIn(value, function(value, key, object) {\n        result = hasOwnProperty.call(object, key);\n        return false;\n      });\n      return result !== false;\n    }\n    // In most environments an object's own properties are iterated before\n    // its inherited properties. If the last iterated property is an object's\n    // own property then there are no inherited enumerable properties.\n    forIn(value, function(value, key) {\n      result = key;\n    });\n    return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!support.argsClass) {\n    isArguments = function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = createIterator({\n    'args': 'object',\n    'init': '[]',\n    'top': 'if (!(objectTypes[typeof object])) return result',\n    'loop': 'result.push(index)'\n  });\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    if ((support.enumPrototypes && typeof object == 'function') ||\n        (support.nonEnumArgs && object.length && isArguments(object))) {\n      return shimKeys(object);\n    }\n    return nativeKeys(object);\n  };\n\n  /** Reusable iterator options shared by `each`, `forIn`, and `forOwn` */\n  var eachIteratorOptions = {\n    'args': 'collection, callback, thisArg',\n    'top': \"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)\",\n    'array': \"typeof length == 'number'\",\n    'keys': keys,\n    'loop': 'if (callback(iterable[index], index, collection) === false) return result'\n  };\n\n  /** Reusable iterator options for `assign` and `defaults` */\n  var defaultsIteratorOptions = {\n    'args': 'object, source, guard',\n    'top':\n      'var args = arguments,\\n' +\n      '    argsIndex = 0,\\n' +\n      \"    argsLength = typeof guard == 'number' ? 2 : args.length;\\n\" +\n      'while (++argsIndex < argsLength) {\\n' +\n      '  iterable = args[argsIndex];\\n' +\n      '  if (iterable && objectTypes[typeof iterable]) {',\n    'keys': keys,\n    'loop': \"if (typeof result[index] == 'undefined') result[index] = iterable[index]\",\n    'bottom': '  }\\n}'\n  };\n\n  /** Reusable iterator options for `forIn` and `forOwn` */\n  var forOwnIteratorOptions = {\n    'top': 'if (!objectTypes[typeof iterable]) return result;\\n' + eachIteratorOptions.top,\n    'array': false\n  };\n\n  /**\n   * A function compiled to iterate `arguments` objects, arrays, objects, and\n   * strings consistenly across environments, executing the callback for each\n   * element in the collection. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index|key, collection). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @type Function\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   */\n  var baseEach = createIterator(eachIteratorOptions);\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  var assign = createIterator(defaultsIteratorOptions, {\n    'top':\n      defaultsIteratorOptions.top.replace(';',\n        ';\\n' +\n        \"if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\\n\" +\n        '  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\\n' +\n        \"} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\\n\" +\n        '  callback = args[--argsLength];\\n' +\n        '}'\n      ),\n    'loop': 'result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]'\n  });\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value, isDeep, callback, thisArg) {\n    // allows working with \"Collections\" methods without using their `index`\n    // and `collection` arguments for `isDeep` and `callback`\n    if (typeof isDeep != 'boolean' && isDeep != null) {\n      thisArg = callback;\n      callback = isDeep;\n      isDeep = false;\n    }\n    return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n  }\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = createIterator(eachIteratorOptions, forOwnIteratorOptions, {\n    'useHas': false\n  });\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = createIterator(eachIteratorOptions, forOwnIteratorOptions);\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|string} value The value to inspect.\n   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    var result = true;\n    if (!value) {\n      return result;\n    }\n    var className = toString.call(value),\n        length = value.length;\n\n    if ((className == arrayClass || className == stringClass ||\n        (support.argsClass ? className == argsClass : isArguments(value))) ||\n        (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n      return !length;\n    }\n    forOwn(value, function() {\n      return (result = false);\n    });\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value]);\n  }\n\n  /**\n   * Checks if `value` is an object created by the `Object` constructor.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * _.isPlainObject(new Shape);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   */\n  var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n    if (!(value && toString.call(value) == objectClass) || (!support.argsClass && isArguments(value))) {\n      return false;\n    }\n    var valueOf = value.valueOf,\n        objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n    return objProto\n      ? (value == objProto || getPrototypeOf(value) == objProto)\n      : shimIsPlainObject(value);\n  };\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      value && typeof value == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Recursively merges own enumerable properties of the source object(s), that\n   * don't resolve to `undefined` into the destination object. Subsequent sources\n   * will overwrite property assignments of previous sources. If a callback is\n   * provided it will be executed to produce the merged values of the destination\n   * and source properties. If the callback returns `undefined` merging will\n   * be handled by the method instead. The callback is bound to `thisArg` and\n   * invoked with two arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize merging properties.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var names = {\n   *   'characters': [\n   *     { 'name': 'barney' },\n   *     { 'name': 'fred' }\n   *   ]\n   * };\n   *\n   * var ages = {\n   *   'characters': [\n   *     { 'age': 36 },\n   *     { 'age': 40 }\n   *   ]\n   * };\n   *\n   * _.merge(names, ages);\n   * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n   *\n   * var food = {\n   *   'fruits': ['apple'],\n   *   'vegetables': ['beet']\n   * };\n   *\n   * var otherFood = {\n   *   'fruits': ['banana'],\n   *   'vegetables': ['carrot']\n   * };\n   *\n   * _.merge(food, otherFood, function(a, b) {\n   *   return _.isArray(a) ? a.concat(b) : undefined;\n   * });\n   * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n   */\n  function merge(object) {\n    var args = arguments,\n        length = 2;\n\n    if (!isObject(object)) {\n      return object;\n    }\n    // allows working with `_.reduce` and `_.reduceRight` without using\n    // their `index` and `collection` arguments\n    if (typeof args[2] != 'number') {\n      length = args.length;\n    }\n    if (length > 3 && typeof args[length - 2] == 'function') {\n      var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n    } else if (length > 2 && typeof args[length - 1] == 'function') {\n      callback = args[--length];\n    }\n    var sources = slice(arguments, 1, length),\n        index = -1,\n        stackA = getArray(),\n        stackB = getArray();\n\n    while (++index < length) {\n      baseMerge(object, sources[index], callback, stackA, stackB);\n    }\n    releaseArray(stackA);\n    releaseArray(stackB);\n    return object;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    if (callback && typeof thisArg == 'undefined' && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      baseEach(collection, callback, thisArg);\n    }\n    return collection;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values removed. The values `false`, `null`,\n   * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2\n      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n      : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  lodash.assign = assign;\n  lodash.bind = bind;\n  lodash.compact = compact;\n  lodash.forEach = forEach;\n  lodash.forIn = forIn;\n  lodash.forOwn = forOwn;\n  lodash.keys = keys;\n  lodash.merge = merge;\n\n  lodash.each = forEach;\n  lodash.extend = assign;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.identity = identity;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isEmpty = isEmpty;\n  lodash.isFunction = isFunction;\n  lodash.isObject = isObject;\n  lodash.isPlainObject = isPlainObject;\n  lodash.isString = isString;\n  lodash.noop = noop;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.1';\n\n  /*--------------------------------------------------------------------------*/\n\n  if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n\n  }\n\n}.call(this));\n", "module.exports.RADIUS = 6378137;\nmodule.exports.FLATTENING = 1/298.257223563;\nmodule.exports.POLAR_RADIUS = 6356752.3142;\n", "var wgs84 = require('wgs84');\n\nmodule.exports.geometry = geometry;\nmodule.exports.ring = ringArea;\n\nfunction geometry(_) {\n    if (_.type === 'Polygon') return polygonArea(_.coordinates);\n    else if (_.type === 'MultiPolygon') {\n        var area = 0;\n        for (var i = 0; i < _.coordinates.length; i++) {\n            area += polygonArea(_.coordinates[i]);\n        }\n        return area;\n    } else {\n        return null;\n    }\n}\n\nfunction polygonArea(coords) {\n    var area = 0;\n    if (coords && coords.length > 0) {\n        area += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            area -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return area;\n}\n\n/**\n * Calculate the approximate area of the polygon were it projected onto\n *     the earth.  Note that this area will be positive if ring is oriented\n *     clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n *     Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * Returns:\n * {float} The approximate signed geodesic area of the polygon in square\n *     meters.\n */\n\nfunction ringArea(coords) {\n    var area = 0;\n\n    if (coords.length > 2) {\n        var p1, p2;\n        for (var i = 0; i < coords.length - 1; i++) {\n            p1 = coords[i];\n            p2 = coords[i + 1];\n            area += rad(p2[0] - p1[0]) * (2 + Math.sin(rad(p1[1])) + Math.sin(rad(p2[1])));\n        }\n\n        area = area * wgs84.RADIUS * wgs84.RADIUS / 2;\n    }\n\n    return area;\n}\n\nfunction rad(_) {\n    return _ * Math.PI / 180;\n}\n", "var geojsonArea = require('geojson-area');\n\nmodule.exports = rewind;\n\nfunction rewind(gj, outer) {\n    switch ((gj && gj.type) || null) {\n        case 'FeatureCollection':\n            gj.features = gj.features.map(curryOuter(rewind, outer));\n            return gj;\n        case 'Feature':\n            gj.geometry = rewind(gj.geometry, outer);\n            return gj;\n        case 'Polygon':\n        case 'MultiPolygon':\n            return correct(gj, outer);\n        default:\n            return gj;\n    }\n}\n\nfunction curryOuter(a, b) {\n    return function(_) { return a(_, b); };\n}\n\nfunction correct(_, outer) {\n    if (_.type === 'Polygon') {\n        _.coordinates = correctRings(_.coordinates, outer);\n    } else if (_.type === 'MultiPolygon') {\n        _.coordinates = _.coordinates.map(curryOuter(correctRings, outer));\n    }\n    return _;\n}\n\nfunction correctRings(_, outer) {\n    outer = !!outer;\n    _[0] = wind(_[0], !outer);\n    for (var i = 1; i < _.length; i++) {\n        _[i] = wind(_[i], outer);\n    }\n    return _;\n}\n\nfunction wind(_, dir) {\n    return cw(_) === dir ? _ : _.reverse();\n}\n\nfunction cw(_) {\n    return geojsonArea.ring(_) >= 0;\n}\n", "[\n    {\n        \"key\": \"building\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"highway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"services\",\n            \"rest_area\",\n            \"escape\",\n            \"elevator\"\n        ]\n    },\n    {\n        \"key\": \"natural\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"coastline\",\n            \"cliff\",\n            \"ridge\",\n            \"arete\",\n            \"tree_row\"\n        ]\n    },\n    {\n        \"key\": \"landuse\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"waterway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"riverbank\",\n            \"dock\",\n            \"boatyard\",\n            \"dam\"\n        ]\n    },\n    {\n        \"key\": \"amenity\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"leisure\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"barrier\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"city_wall\",\n            \"ditch\",\n            \"hedge\",\n            \"retaining_wall\",\n            \"wall\",\n            \"spikes\"\n        ]\n    },\n    {\n        \"key\": \"railway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"station\",\n            \"turntable\",\n            \"roundhouse\",\n            \"platform\"\n        ]\n    },\n    {\n        \"key\": \"area\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"boundary\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"man_made\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"cutline\",\n            \"embankment\",\n            \"pipeline\"\n        ]\n    },\n    {\n        \"key\": \"power\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"plant\",\n            \"substation\",\n            \"generator\",\n            \"transformer\"\n        ]\n    },\n    {\n        \"key\": \"place\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"shop\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"aeroway\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"taxiway\"\n        ]\n    },\n    {\n        \"key\": \"tourism\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"historic\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"public_transport\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"office\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"building:part\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"military\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"ruins\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"area:highway\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"craft\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"golf\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"indoor\",\n        \"polygon\": \"all\"\n    }\n]\n", "module.exports = require('./polygon-features.json')\n", "var _ = require(\"./lodash.custom.js\");\nvar rewind = require(\"geojson-rewind\");\n\n// see https://wiki.openstreetmap.org/wiki/Overpass_turbo/Polygon_Features\nvar polygonFeatures = {};\nrequire(\"osm-polygon-features\").forEach(function(tags) {\n  if (tags.polygon === \"all\")\n    polygonFeatures[tags.key] = true;\n  else {\n    var list = (tags.polygon === \"whitelist\") ? \"included_values\" : \"excluded_values\",\n        tagValuesObj = {};\n    tags.values.forEach(function(value) { tagValuesObj[value] = true; });\n    polygonFeatures[tags.key] = {};\n    polygonFeatures[tags.key][list] = tagValuesObj;\n  }\n});\n\nvar osmtogeojson = {};\n\nosmtogeojson = function( data, options ) {\n\n  options = _.merge(\n    {\n      verbose: false,\n      flatProperties: false,\n      uninterestingTags: {\n        \"source\": true,\n        \"source_ref\": true,\n        \"source:ref\": true,\n        \"history\": true,\n        \"attribution\": true,\n        \"created_by\": true,\n        \"tiger:county\": true,\n        \"tiger:tlid\": true,\n        \"tiger:upload_uuid\": true\n      },\n      polygonFeatures: polygonFeatures,\n    },\n    options\n  );\n\n  var result;\n  if ( ((typeof XMLDocument !== \"undefined\") && data instanceof XMLDocument ||\n        (typeof XMLDocument === \"undefined\") && data.childNodes) )\n    result = _osmXML2geoJSON(data);\n  else\n    result = _overpassJSON2geoJSON(data);\n  return result;\n\n  function _overpassJSON2geoJSON(json) {\n    // sort elements\n    var nodes = new Array();\n    var ways  = new Array();\n    var rels  = new Array();\n    // helper functions\n    function centerGeometry(object) {\n      var pseudoNode = _.clone(object);\n      pseudoNode.lat = object.center.lat;\n      pseudoNode.lon = object.center.lon;\n      pseudoNode.__is_center_placeholder = true;\n      nodes.push(pseudoNode);\n    }\n    function boundsGeometry(object) {\n      var pseudoWay = _.clone(object);\n      pseudoWay.nodes = [];\n      function addPseudoNode(lat,lon,i) {\n        var pseudoNode = {\n          type:\"node\",\n          id:  \"_\"+pseudoWay.type+\"/\"+pseudoWay.id+\"bounds\"+i,\n          lat: lat,\n          lon: lon\n        }\n        pseudoWay.nodes.push(pseudoNode.id);\n        nodes.push(pseudoNode);\n      }\n      addPseudoNode(pseudoWay.bounds.minlat,pseudoWay.bounds.minlon,1);\n      addPseudoNode(pseudoWay.bounds.maxlat,pseudoWay.bounds.minlon,2);\n      addPseudoNode(pseudoWay.bounds.maxlat,pseudoWay.bounds.maxlon,3);\n      addPseudoNode(pseudoWay.bounds.minlat,pseudoWay.bounds.maxlon,4);\n      pseudoWay.nodes.push(pseudoWay.nodes[0]);\n      pseudoWay.__is_bounds_placeholder = true;\n      ways.push(pseudoWay);\n    }\n    function fullGeometryWay(way) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon,\n          __is_uninteresting: true\n        }\n        nodes.push(geometryNode);\n      }\n      if (!_.isArray(way.nodes)) {\n        way.nodes = way.geometry.map(function(nd) {\n          if (nd !== null) // have to skip ref-less nodes\n            return \"_anonymous@\"+nd.lat+\"/\"+nd.lon;\n          else\n            return \"_anonymous@unknown_location\";\n        });\n      }\n      way.geometry.forEach(function(nd, i) {\n        if (nd) {\n          addFullGeometryNode(\n            nd.lat,\n            nd.lon,\n            way.nodes[i]\n          );\n        }\n      });\n    }\n    function fullGeometryRelation(rel) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon\n        }\n        nodes.push(geometryNode);\n      }\n      function addFullGeometryWay(geometry,id) {\n        // shared multipolygon ways cannot be defined multiple times with the same id.\n        if (ways.some(function (way) { // todo: this is slow :(\n          return way.type == \"way\" && way.id == id;\n        })) return;\n        var geometryWay = {\n          type: \"way\",\n          id:   id,\n          nodes:[]\n        }\n        function addFullGeometryWayPseudoNode(lat,lon) {\n          // todo? do not save the same pseudo node multiple times\n          var geometryPseudoNode = {\n            type:\"node\",\n            id:  \"_anonymous@\"+lat+\"/\"+lon,\n            lat: lat,\n            lon: lon,\n            __is_uninteresting: true\n          }\n          geometryWay.nodes.push(geometryPseudoNode.id);\n          nodes.push(geometryPseudoNode);\n        }\n        geometry.forEach(function(nd) {\n          if (nd) {\n            addFullGeometryWayPseudoNode(\n              nd.lat,\n              nd.lon\n            );\n          } else {\n            geometryWay.nodes.push(undefined);\n          }\n        });\n        ways.push(geometryWay);\n      }\n      rel.members.forEach(function(member, i) {\n        if (member.type == \"node\") {\n          if (member.lat) {\n            addFullGeometryNode(\n              member.lat,\n              member.lon,\n              member.ref\n            );\n          }\n        } else if (member.type == \"way\") {\n          if (member.geometry) {\n            member.ref = \"_fullGeom\"+member.ref;\n            addFullGeometryWay(\n              member.geometry,\n              member.ref\n            );\n          }\n        }\n      });\n    }\n    // create copies of individual json objects to make sure the original data doesn't get altered\n    // todo: cloning is slow: see if this can be done differently!\n    for (var i=0;i<json.elements.length;i++) {\n      switch (json.elements[i].type) {\n      case \"node\":\n        var node = json.elements[i];\n        nodes.push(node);\n      break;\n      case \"way\":\n        var way = _.clone(json.elements[i]);\n        way.nodes = _.clone(way.nodes);\n        ways.push(way);\n        if (way.center)\n          centerGeometry(way);\n        if (way.geometry)\n          fullGeometryWay(way);\n        else if (way.bounds)\n          boundsGeometry(way);\n      break;\n      case \"relation\":\n        var rel = _.clone(json.elements[i]);\n        rel.members = _.clone(rel.members);\n        rels.push(rel);\n        var has_full_geometry = rel.members && rel.members.some(function (member) {\n          return member.type == \"node\" && member.lat ||\n                 member.type == \"way\"  && member.geometry && member.geometry.length > 0\n        });\n        if (rel.center)\n          centerGeometry(rel);\n        if (has_full_geometry)\n          fullGeometryRelation(rel);\n        else if (rel.bounds)\n          boundsGeometry(rel);\n      break;\n      default:\n      // type=area (from coord-query) is an example for this case.\n      }\n    }\n    return _convert2geoJSON(nodes,ways,rels);\n  }\n  function _osmXML2geoJSON(xml) {\n    // sort elements\n    var nodes = new Array();\n    var ways  = new Array();\n    var rels  = new Array();\n    // helper function\n    function copy_attribute( x, o, attr ) {\n      if (x.hasAttribute(attr))\n        o[attr] = x.getAttribute(attr);\n    }\n    function centerGeometry(object, centroid) {\n      var pseudoNode = _.clone(object);\n      copy_attribute(centroid, pseudoNode, 'lat');\n      copy_attribute(centroid, pseudoNode, 'lon');\n      pseudoNode.__is_center_placeholder = true;\n      nodes.push(pseudoNode);\n    }\n    function boundsGeometry(object, bounds) {\n      var pseudoWay = _.clone(object);\n      pseudoWay.nodes = [];\n      function addPseudoNode(lat,lon,i) {\n        var pseudoNode = {\n          type:\"node\",\n          id:  \"_\"+pseudoWay.type+\"/\"+pseudoWay.id+\"bounds\"+i,\n          lat: lat,\n          lon: lon\n        }\n        pseudoWay.nodes.push(pseudoNode.id);\n        nodes.push(pseudoNode);\n      }\n      addPseudoNode(bounds.getAttribute('minlat'),bounds.getAttribute('minlon'),1);\n      addPseudoNode(bounds.getAttribute('maxlat'),bounds.getAttribute('minlon'),2);\n      addPseudoNode(bounds.getAttribute('maxlat'),bounds.getAttribute('maxlon'),3);\n      addPseudoNode(bounds.getAttribute('minlat'),bounds.getAttribute('maxlon'),4);\n      pseudoWay.nodes.push(pseudoWay.nodes[0]);\n      pseudoWay.__is_bounds_placeholder = true;\n      ways.push(pseudoWay);\n    }\n    function fullGeometryWay(way, nds) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon,\n          __is_uninteresting: true\n        }\n        nodes.push(geometryNode);\n        return geometryNode.id;\n      }\n      if (!_.isArray(way.nodes)) {\n        way.nodes = [];\n        _.each( nds, function( nd, i ) {\n          way.nodes.push(\"_anonymous@\"+nd.getAttribute('lat')+\"/\"+nd.getAttribute('lon'));\n        });\n      }\n      _.each( nds, function( nd, i ) {\n        if (nd.getAttribute('lat')) {\n          addFullGeometryNode(\n            nd.getAttribute('lat'),\n            nd.getAttribute('lon'),\n            way.nodes[i]\n          );\n        }\n      });\n    }\n    function fullGeometryRelation(rel, members) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon\n        }\n        nodes.push(geometryNode);\n      }\n      function addFullGeometryWay(nds,id) {\n        // shared multipolygon ways cannot be defined multiple times with the same id.\n        if (ways.some(function (way) { // todo: this is slow :(\n          return way.type == \"way\" && way.id == id;\n        })) return;\n        var geometryWay = {\n          type: \"way\",\n          id:   id,\n          nodes:[]\n        }\n        function addFullGeometryWayPseudoNode(lat,lon) {\n          // todo? do not save the same pseudo node multiple times\n          var geometryPseudoNode = {\n            type:\"node\",\n            id:  \"_anonymous@\"+lat+\"/\"+lon,\n            lat: lat,\n            lon: lon,\n            __is_uninteresting: true\n          }\n          geometryWay.nodes.push(geometryPseudoNode.id);\n          nodes.push(geometryPseudoNode);\n        }\n        _.each(nds, function(nd) {\n          if (nd.getAttribute('lat')) {\n            addFullGeometryWayPseudoNode(\n              nd.getAttribute('lat'),\n              nd.getAttribute('lon')\n            );\n          } else {\n            geometryWay.nodes.push(undefined);\n          }\n        });\n        ways.push(geometryWay);\n      }\n      _.each( members, function( member, i ) {\n        if (rel.members[i].type == \"node\") {\n          if (member.getAttribute('lat')) {\n            addFullGeometryNode(\n              member.getAttribute('lat'),\n              member.getAttribute('lon'),\n              rel.members[i].ref\n            );\n          }\n        } else if (rel.members[i].type == \"way\") {\n          if (member.getElementsByTagName('nd').length > 0) {\n            rel.members[i].ref = \"_fullGeom\"+rel.members[i].ref;\n            addFullGeometryWay(\n              member.getElementsByTagName('nd'),\n              rel.members[i].ref\n            );\n          }\n        }\n      });\n    }\n    // nodes\n    _.each( xml.getElementsByTagName('node'), function( node, i ) {\n      var tags = {};\n      _.each( node.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var nodeObject = {\n        'type': 'node'\n      };\n      copy_attribute( node, nodeObject, 'id' );\n      copy_attribute( node, nodeObject, 'lat' );\n      copy_attribute( node, nodeObject, 'lon' );\n      copy_attribute( node, nodeObject, 'version' );\n      copy_attribute( node, nodeObject, 'timestamp' );\n      copy_attribute( node, nodeObject, 'changeset' );\n      copy_attribute( node, nodeObject, 'uid' );\n      copy_attribute( node, nodeObject, 'user' );\n      if (!_.isEmpty(tags))\n        nodeObject.tags = tags;\n      nodes.push(nodeObject);\n    });\n    // ways\n    var centroid,bounds;\n    _.each( xml.getElementsByTagName('way'), function( way, i ) {\n      var tags = {};\n      var wnodes = [];\n      _.each( way.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var has_full_geometry = false;\n      _.each( way.getElementsByTagName('nd'), function( nd, i ) {\n        var id;\n        if (id = nd.getAttribute('ref'))\n          wnodes[i] = id;\n        if (!has_full_geometry && nd.getAttribute('lat'))\n          has_full_geometry = true;\n      });\n      var wayObject = {\n        \"type\": \"way\"\n      };\n      copy_attribute( way, wayObject, 'id' );\n      copy_attribute( way, wayObject, 'version' );\n      copy_attribute( way, wayObject, 'timestamp' );\n      copy_attribute( way, wayObject, 'changeset' );\n      copy_attribute( way, wayObject, 'uid' );\n      copy_attribute( way, wayObject, 'user' );\n      if (wnodes.length > 0)\n        wayObject.nodes = wnodes;\n      if (!_.isEmpty(tags))\n        wayObject.tags = tags;\n      if (centroid = way.getElementsByTagName('center')[0])\n        centerGeometry(wayObject,centroid);\n      if (has_full_geometry)\n        fullGeometryWay(wayObject, way.getElementsByTagName('nd'));\n      else if (bounds = way.getElementsByTagName('bounds')[0])\n        boundsGeometry(wayObject,bounds);\n      ways.push(wayObject);\n    });\n    // relations\n    _.each( xml.getElementsByTagName('relation'), function( relation, i ) {\n      var tags = {};\n      var members = [];\n      _.each( relation.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var has_full_geometry = false;\n      _.each( relation.getElementsByTagName('member'), function( member, i ) {\n        members[i] = {};\n        copy_attribute( member, members[i], 'ref' );\n        copy_attribute( member, members[i], 'role' );\n        copy_attribute( member, members[i], 'type' );\n        if (!has_full_geometry &&\n             (members[i].type == 'node' && member.getAttribute('lat')) ||\n             (members[i].type == 'way'  && member.getElementsByTagName('nd').length>0) )\n          has_full_geometry = true;\n      });\n      var relObject = {\n        \"type\": \"relation\"\n      }\n      copy_attribute( relation, relObject, 'id' );\n      copy_attribute( relation, relObject, 'version' );\n      copy_attribute( relation, relObject, 'timestamp' );\n      copy_attribute( relation, relObject, 'changeset' );\n      copy_attribute( relation, relObject, 'uid' );\n      copy_attribute( relation, relObject, 'user' );\n      if (members.length > 0)\n        relObject.members = members;\n      if (!_.isEmpty(tags))\n        relObject.tags = tags;\n      if (centroid = relation.getElementsByTagName('center')[0])\n        centerGeometry(relObject,centroid);\n      if (has_full_geometry)\n        fullGeometryRelation(relObject, relation.getElementsByTagName('member'));\n      else if (bounds = relation.getElementsByTagName('bounds')[0])\n        boundsGeometry(relObject,bounds);\n      rels.push(relObject);\n    });\n    return _convert2geoJSON(nodes,ways,rels);\n  }\n  function _convert2geoJSON(nodes,ways,rels) {\n\n    // helper function that checks if there are any tags other than \"created_by\", \"source\", etc. or any tag provided in ignore_tags\n    function has_interesting_tags(t, ignore_tags) {\n      if (typeof ignore_tags !== \"object\")\n        ignore_tags={};\n      if (typeof options.uninterestingTags === \"function\")\n        return !options.uninterestingTags(t, ignore_tags);\n      for (var k in t)\n        if (!(options.uninterestingTags[k]===true) &&\n            !(ignore_tags[k]===true || ignore_tags[k]===t[k]))\n          return true;\n      return false;\n    };\n    // helper function to extract meta information\n    function build_meta_information(object) {\n      var res = {\n        \"timestamp\": object.timestamp,\n        \"version\": object.version,\n        \"changeset\": object.changeset,\n        \"user\": object.user,\n        \"uid\": object.uid\n      };\n      for (var k in res)\n        if (res[k] === undefined)\n          delete res[k];\n      return res;\n    }\n\n    // some data processing (e.g. filter nodes only used for ways)\n    var nodeids = new Object();\n    for (var i=0;i<nodes.length;i++) {\n      if (nodes[i].lat === undefined) {\n        if (options.verbose) console.warn('Node',nodes[i].type+'/'+nodes[i].id,'ignored because it has no coordinates');\n        continue; // ignore nodes without coordinates (e.g. returned by an ids_only query)\n      }\n      nodeids[nodes[i].id] = nodes[i];\n    }\n    var poinids = new Object();\n    for (var i=0;i<nodes.length;i++) {\n      if (typeof nodes[i].tags != 'undefined' &&\n          has_interesting_tags(nodes[i].tags)) // this checks if the node has any tags other than \"created_by\"\n        poinids[nodes[i].id] = true;\n    }\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      for (var j=0;j<rels[i].members.length;j++) {\n        if (rels[i].members[j].type == \"node\")\n          poinids[rels[i].members[j].ref] = true;\n      }\n    }\n    var wayids = new Object();\n    var waynids = new Object();\n    for (var i=0;i<ways.length;i++) {\n      if (!_.isArray(ways[i].nodes)) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it has no nodes');\n        continue; // ignore ways without nodes (e.g. returned by an ids_only query)\n      }\n      wayids[ways[i].id] = ways[i];\n      for (var j=0;j<ways[i].nodes.length;j++) {\n        waynids[ways[i].nodes[j]] = true;\n        ways[i].nodes[j] = nodeids[ways[i].nodes[j]];\n      }\n    }\n    var pois = new Array();\n    for (var i=0;i<nodes.length;i++) {\n      if (((!waynids[nodes[i].id]) ||\n          (poinids[nodes[i].id])) &&\n          !nodes[i].__is_uninteresting)\n        pois.push(nodes[i]);\n    }\n    var relids = new Array();\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      relids[rels[i].id] = rels[i];\n    }\n    var relsmap = {node: {}, way: {}, relation: {}};\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      for (var j=0;j<rels[i].members.length;j++) {\n        var m_type = rels[i].members[j].type;\n        var m_ref = rels[i].members[j].ref;\n        if (typeof m_ref !== \"number\") {\n          // de-namespace full geometry content\n          m_ref = m_ref.replace(\"_fullGeom\", \"\");\n        }\n        if (!relsmap[m_type]) {\n          if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'member',m_type+'/'+m_ref,'ignored because it has an invalid type');\n          continue;\n        }\n        if (typeof relsmap[m_type][m_ref] === \"undefined\")\n          relsmap[m_type][m_ref] = [];\n        relsmap[m_type][m_ref].push({\n          \"role\" : rels[i].members[j].role,\n          \"rel\" : rels[i].id,\n          \"reltags\" : rels[i].tags,\n        });\n      }\n    }\n    // construct geojson\n    var geojson;\n    var geojsonnodes = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    for (i=0;i<pois.length;i++) {\n      if (typeof pois[i].lon == \"undefined\" || typeof pois[i].lat == \"undefined\") {\n        if (options.verbose) console.warn('POI',pois[i].type+'/'+pois[i].id,'ignored because it lacks coordinates');\n        continue; // lon and lat are required for showing a point\n      }\n      var feature = {\n        \"type\"       : \"Feature\",\n        \"id\"         : pois[i].type+\"/\"+pois[i].id,\n        \"properties\" : {\n          \"type\" : pois[i].type,\n          \"id\"   : pois[i].id,\n          \"tags\" : pois[i].tags || {},\n          \"relations\" : relsmap[\"node\"][pois[i].id] || [],\n          \"meta\": build_meta_information(pois[i])\n        },\n        \"geometry\"   : {\n          \"type\" : \"Point\",\n          \"coordinates\" : [+pois[i].lon, +pois[i].lat],\n        }\n      };\n      if (pois[i].__is_center_placeholder)\n        feature.properties[\"geometry\"] = \"center\";\n      geojsonnodes.features.push(feature);\n    }\n    var geojsonlines = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    var geojsonpolygons = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    // process multipolygons\n    for (var i=0;i<rels.length;i++) {\n      if ((typeof rels[i].tags != \"undefined\") &&\n          (rels[i].tags[\"type\"] == \"multipolygon\" || rels[i].tags[\"type\"] == \"boundary\")) {\n        if (!_.isArray(rels[i].members)) {\n          if (options.verbose) console.warn('Multipolygon',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n          continue; // ignore relations without members (e.g. returned by an ids_only query)\n        }\n        var outer_count = 0;\n        for (var j=0;j<rels[i].members.length;j++)\n          if (rels[i].members[j].role == \"outer\")\n            outer_count++;\n          else if (options.verbose && rels[i].members[j].role != \"inner\")\n            console.warn('Multipolygon',rels[i].type+'/'+rels[i].id,'member',rels[i].members[j].type+'/'+rels[i].members[j].ref,'ignored because it has an invalid role: \"' + rels[i].members[j].role + '\"');\n        rels[i].members.forEach(function(m) {\n          if (wayids[m.ref]) {\n            // this even works in the following corner case:\n            // a multipolygon amenity=xxx with outer line tagged amenity=yyy\n            // see https://github.com/tyrasd/osmtogeojson/issues/7\n            if (m.role===\"outer\" && !has_interesting_tags(wayids[m.ref].tags,rels[i].tags))\n              wayids[m.ref].is_multipolygon_outline = true;\n            if (m.role===\"inner\" && !has_interesting_tags(wayids[m.ref].tags))\n              wayids[m.ref].is_multipolygon_outline = true;\n          }\n        });\n        if (outer_count == 0) {\n          if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because it has no outer ways');\n          continue; // ignore multipolygons without outer ways\n        }\n        var simple_mp = false;\n        var mp_geometry = '';\n        if (outer_count == 1 && !has_interesting_tags(rels[i].tags, {\"type\":true}))\n          simple_mp = true;\n        var feature = null;\n        if (!simple_mp) {\n          feature = construct_multipolygon(rels[i], rels[i]);\n        } else {\n          // simple multipolygon\n          var outer_way = rels[i].members.filter(function(m) {return m.role === \"outer\";})[0];\n          outer_way = wayids[outer_way.ref];\n          if (outer_way === undefined) {\n            if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because outer way', outer_way.type+'/'+outer_way.ref,'is missing');\n            continue; // abort if outer way object is not present\n          }\n          outer_way.is_multipolygon_outline = true;\n          feature = construct_multipolygon(outer_way, rels[i]);\n        }\n        if (feature === false) {\n          if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because it has invalid geometry');\n          continue; // abort if feature could not be constructed\n        }\n        geojsonpolygons.features.push(feature);\n        function construct_multipolygon(tag_object, rel) {\n          var is_tainted = false;\n          var mp_geometry = simple_mp ? 'way' : 'relation',\n              mp_id = typeof tag_object.id === \"number\" ? tag_object.id : +(tag_object.id.replace(\"_fullGeom\", \"\"));\n          // prepare mp members\n          var members;\n          members = rel.members.filter(function(m) {return m.type === \"way\";});\n          members = members.map(function(m) {\n            var way = wayids[m.ref];\n            if (way === undefined) { // check for missing ways\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'tainted by a missing way', m.type+'/'+m.ref);\n              is_tainted = true;\n              return;\n            }\n            return { // TODO: this is slow! :(\n              id: m.ref,\n              role: m.role || \"outer\",\n              way: way,\n              nodes: way.nodes.filter(function(n) {\n                if (n !== undefined)\n                  return true;\n                is_tainted = true;\n                if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id,  'tainted by a way', m.type+'/'+m.ref, 'with a missing node');\n                return false;\n              })\n            };\n          });\n          members = _.compact(members);\n          // construct outer and inner rings\n          var outers, inners;\n          function join(ways) {\n            var _first = function(arr) {return arr[0]};\n            var _last  = function(arr) {return arr[arr.length-1]};\n            // stolen from iD/relation.js\n            var joined = [], current, first, last, i, how, what;\n            while (ways.length) {\n              current = ways.pop().nodes.slice();\n              joined.push(current);\n              while (ways.length && _first(current) !== _last(current)) {\n                first = _first(current);\n                last  = _last(current);\n                for (i = 0; i < ways.length; i++) {\n                  what = ways[i].nodes;\n                  if (last === _first(what)) {\n                    how  = current.push;\n                    what = what.slice(1);\n                    break;\n                  } else if (last === _last(what)) {\n                    how  = current.push;\n                    what = what.slice(0, -1).reverse();\n                    break;\n                  } else if (first == _last(what)) {\n                    how  = current.unshift;\n                    what = what.slice(0, -1);\n                    break;\n                  } else if (first == _first(what)) {\n                    how  = current.unshift;\n                    what = what.slice(1).reverse();\n                    break;\n                  } else {\n                    what = how = null;\n                  }\n                }\n                if (!what) {\n                  if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains unclosed ring geometry');\n                  break; // Invalid geometry (dangling way, unclosed ring)\n                }\n                ways.splice(i, 1);\n                how.apply(current, what);\n              }\n            }\n            return joined;\n          }\n          outers = join(members.filter(function(m) {return m.role===\"outer\";}));\n          inners = join(members.filter(function(m) {return m.role===\"inner\";}));\n          // sort rings\n          var mp;\n          function findOuter(inner) {\n            var polygonIntersectsPolygon = function(outer, inner) {\n              for (var i=0; i<inner.length; i++)\n                if (pointInPolygon(inner[i], outer))\n                  return true;\n              return false;\n            }\n            var mapCoordinates = function(from) {\n              return from.map(function(n) {\n                return [+n.lat,+n.lon];\n              });\n            }\n            // stolen from iD/geo.js,\n            // based on https://github.com/substack/point-in-polygon,\n            // ray-casting algorithm based on http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n            var pointInPolygon = function(point, polygon) {\n              var x = point[0], y = point[1], inside = false;\n              for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                var xi = polygon[i][0], yi = polygon[i][1];\n                var xj = polygon[j][0], yj = polygon[j][1];\n                var intersect = ((yi > y) != (yj > y)) &&\n                  (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n                if (intersect) inside = !inside;\n              }\n              return inside;\n            };\n            // stolen from iD/relation.js\n            var o, outer;\n            // todo: all this coordinate mapping makes this unneccesarily slow.\n            // see the \"todo: this is slow! :(\" above.\n            inner = mapCoordinates(inner);\n            /*for (o = 0; o < outers.length; o++) {\n              outer = mapCoordinates(outers[o]);\n              if (polygonContainsPolygon(outer, inner))\n                return o;\n            }*/\n            for (o = 0; o < outers.length; o++) {\n              outer = mapCoordinates(outers[o]);\n              if (polygonIntersectsPolygon(outer, inner))\n                return o;\n            }\n          }\n          mp = outers.map(function(o) {return [o];});\n          for (var j=0; j<inners.length; j++) {\n            var o = findOuter(inners[j]);\n            if (o !== undefined)\n              mp[o].push(inners[j]);\n            else\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains an inner ring with no containing outer');\n              // so, no outer ring for this inner ring is found.\n              // We're going to ignore holes in empty space.\n              ;\n          }\n          // sanitize mp-coordinates (remove empty clusters or rings, {lat,lon,...} to [lon,lat]\n          var mp_coords = [];\n          mp_coords = _.compact(mp.map(function(cluster) {\n            var cl = _.compact(cluster.map(function(ring) {\n              if (ring.length < 4) { // todo: is this correct: ring.length < 4 ?\n                if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains a ring with less than four nodes');\n                return;\n              }\n              return _.compact(ring.map(function(node) {\n                return [+node.lon,+node.lat];\n              }));\n            }));\n            if (cl.length == 0) {\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains an empty ring cluster');\n              return;\n            }\n            return cl;\n          }));\n\n          if (mp_coords.length == 0) {\n            if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains no coordinates');\n            return false; // ignore multipolygons without coordinates\n          }\n          var mp_type = \"MultiPolygon\";\n          if (mp_coords.length === 1) {\n            mp_type = \"Polygon\";\n            mp_coords = mp_coords[0];\n          }\n          // mp parsed, now construct the geoJSON\n          var feature = {\n            \"type\"       : \"Feature\",\n            \"id\"         : tag_object.type+\"/\"+mp_id,\n            \"properties\" : {\n              \"type\" : tag_object.type,\n              \"id\"   : mp_id,\n              \"tags\" : tag_object.tags || {},\n              \"relations\" :  relsmap[tag_object.type][tag_object.id] || [],\n              \"meta\": build_meta_information(tag_object)\n            },\n            \"geometry\"   : {\n              \"type\" : mp_type,\n              \"coordinates\" : mp_coords,\n            }\n          }\n          if (is_tainted) {\n            if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'is tainted');\n            feature.properties[\"tainted\"] = true;\n          }\n          return feature;\n        }\n      }\n    }\n    // process lines and polygons\n    for (var i=0;i<ways.length;i++) {\n      if (!_.isArray(ways[i].nodes)) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it has no nodes');\n        continue; // ignore ways without nodes (e.g. returned by an ids_only query)\n      }\n      if (ways[i].is_multipolygon_outline)\n        continue; // ignore ways which are already rendered as (part of) a multipolygon\n      if (typeof ways[i].id !== \"number\") {\n        // remove full geometry namespace for output\n        ways[i].id = +ways[i].id.replace(\"_fullGeom\", \"\");\n      }\n      ways[i].tainted = false;\n      ways[i].hidden = false;\n      var coords = new Array();\n      for (j=0;j<ways[i].nodes.length;j++) {\n        if (typeof ways[i].nodes[j] == \"object\")\n          coords.push([+ways[i].nodes[j].lon, +ways[i].nodes[j].lat]);\n        else {\n          if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'is tainted by an invalid node');\n          ways[i].tainted = true;\n        }\n      }\n      if (coords.length <= 1) { // invalid way geometry\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it contains too few nodes');\n        continue;\n      }\n      var way_type = \"LineString\"; // default\n      if (typeof ways[i].nodes[0] != \"undefined\" && // way has its nodes loaded\n        ways[i].nodes[0] === ways[i].nodes[ways[i].nodes.length-1] && // ... and forms a closed ring\n        (\n          typeof ways[i].tags != \"undefined\" && // ... and has tags\n          _isPolygonFeature(ways[i].tags) // ... and tags say it is a polygon\n          || // or is a placeholder for a bounds geometry\n          ways[i].__is_bounds_placeholder\n        )\n      ) {\n        way_type = \"Polygon\";\n        coords = [coords];\n      }\n      var feature = {\n        \"type\"       : \"Feature\",\n        \"id\"         : ways[i].type+\"/\"+ways[i].id,\n        \"properties\" : {\n          \"type\" : ways[i].type,\n          \"id\"   : ways[i].id,\n          \"tags\" : ways[i].tags || {},\n          \"relations\" : relsmap[\"way\"][ways[i].id] || [],\n          \"meta\": build_meta_information(ways[i])\n        },\n        \"geometry\"   : {\n          \"type\" : way_type,\n          \"coordinates\" : coords,\n        }\n      }\n      if (ways[i].tainted) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'is tainted');\n        feature.properties[\"tainted\"] = true;\n      }\n      if (ways[i].__is_bounds_placeholder)\n        feature.properties[\"geometry\"] = \"bounds\";\n      if (way_type == \"LineString\")\n        geojsonlines.features.push(feature);\n      else\n        geojsonpolygons.features.push(feature);\n    }\n\n    geojson = {\n      \"type\": \"FeatureCollection\",\n      \"features\": []\n    };\n    geojson.features = geojson.features.concat(geojsonpolygons.features);\n    geojson.features = geojson.features.concat(geojsonlines.features);\n    geojson.features = geojson.features.concat(geojsonnodes.features);\n    // optionally, flatten properties\n    if (options.flatProperties) {\n      geojson.features.forEach(function(f) {\n        f.properties = _.merge(\n          f.properties.meta,\n          f.properties.tags,\n          {id: f.properties.type+\"/\"+f.properties.id}\n        );\n      });\n    }\n    // fix polygon winding\n    geojson = rewind(geojson, true /*remove for geojson-rewind >0.1.0*/);\n    return geojson;\n  }\n  function _isPolygonFeature( tags ) {\n    var polygonFeatures = options.polygonFeatures;\n    if (typeof polygonFeatures === \"function\")\n      return polygonFeatures(tags);\n    // explicitely tagged non-areas\n    if ( tags['area'] === 'no' )\n      return false;\n    // assuming that a typical OSM way has in average less tags than\n    // the polygonFeatures list, this way around should be faster\n    for ( var key in tags ) {\n      var val = tags[key];\n      var pfk = polygonFeatures[key];\n      // continue with next if tag is unknown or not \"categorizing\"\n      if ( typeof pfk === 'undefined' )\n        continue;\n      // continue with next if tag is explicitely un-set (\"building=no\")\n      if ( val === 'no' )\n        continue;\n      // check polygon features for: general acceptance, included or excluded values\n      if ( pfk === true )\n        return true;\n      if ( pfk.included_values && pfk.included_values[val] === true )\n        return true;\n      if ( pfk.excluded_values && pfk.excluded_values[val] !== true )\n        return true;\n    }\n    // if no tags matched, this ain't no area.\n    return false;\n  }\n};\n\n// for backwards compatibility\nosmtogeojson.toGeojson = osmtogeojson;\n\nmodule.exports = osmtogeojson;\n"],
  "mappings": "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",
  "names": ["Object", "source", "value", "i", "way", "rel", "centroid", "bounds", "k", "construct_multipolygon", "mp_geometry", "ways", "outer", "inner", "j", "o", "feature", "polygonFeatures"]
}
